# 计算划分性能测试报告

## 报告信息

| 项目 | 内容 |
|------|------|
| 报告日期 | [填写日期] |
| 测试人员 | [填写姓名] |
| 应用名称 | On-Device Face Recognition |
| 版本号 | 1.0.0 |

---

## 1. 测试概述

### 1.1 测试目的

本测试旨在评估人脸识别应用在不同计算划分策略下的性能表现，包括端到端延迟、网络传输开销和各模块执行时间，为选择最优计算划分方案提供数据支持。

### 1.2 测试范围

- 5 种计算划分模式 (Mode 0-4)
- 多种网络条件 (WiFi/4G/5G)
- 不同数据库规模 (10/50/100 条记录)

### 1.3 测试环境

#### 移动设备

| 配置项 | 规格 |
|--------|------|
| 设备型号 | [填写] |
| 处理器 | [填写] |
| 内存 | [填写] |
| Android 版本 | [填写] |

#### 云端服务器

| 配置项 | 规格 |
|--------|------|
| 服务器类型 | [填写：本地/云服务器] |
| CPU | [填写] |
| 内存 | [填写] |
| 网络带宽 | [填写] |

#### 网络环境

| 网络类型 | 平均延迟 (ping) | 带宽 |
|---------|----------------|------|
| WiFi (局域网) | [填写] ms | [填写] Mbps |
| WiFi (互联网) | [填写] ms | [填写] Mbps |
| 4G | [填写] ms | [填写] Mbps |

---

## 2. 测试结果

### 2.1 各模式性能对比

#### WiFi (局域网) 环境

| 模式 | 平均延迟(ms) | 最小(ms) | 最大(ms) | P95(ms) | 网络时间(ms) | 数据传输(KB) |
|------|-------------|---------|---------|---------|-------------|-------------|
| Mode 0: 全本地 | [填写] | [填写] | [填写] | [填写] | 0 | 0 |
| Mode 1: 嵌入卸载 | [填写] | [填写] | [填写] | [填写] | [填写] | ~52 |
| Mode 2: 搜索卸载 | [填写] | [填写] | [填写] | [填写] | [填写] | ~2 |
| Mode 3: 嵌入+搜索 | [填写] | [填写] | [填写] | [填写] | [填写] | ~52 |
| Mode 4: 全卸载 | [填写] | [填写] | [填写] | [填写] | [填写] | ~200 |

#### 4G 网络环境

| 模式 | 平均延迟(ms) | 最小(ms) | 最大(ms) | P95(ms) | 网络时间(ms) | 数据传输(KB) |
|------|-------------|---------|---------|---------|-------------|-------------|
| Mode 0: 全本地 | [填写] | [填写] | [填写] | [填写] | 0 | 0 |
| Mode 1: 嵌入卸载 | [填写] | [填写] | [填写] | [填写] | [填写] | ~52 |
| Mode 2: 搜索卸载 | [填写] | [填写] | [填写] | [填写] | [填写] | ~2 |
| Mode 3: 嵌入+搜索 | [填写] | [填写] | [填写] | [填写] | [填写] | ~52 |
| Mode 4: 全卸载 | [填写] | [填写] | [填写] | [填写] | [填写] | ~200 |

### 2.2 各模块执行时间分解

#### Mode 0: 全本地执行

| 模块 | 平均时间(ms) | 占比(%) |
|------|-------------|--------|
| 人脸检测 (MediaPipe) | [填写] | [填写] |
| 嵌入生成 (FaceNet) | [填写] | [填写] |
| 向量搜索 (ObjectBox) | [填写] | [填写] |
| 活体检测 | [填写] | [填写] |
| **总计** | [填写] | 100% |

#### Mode 1: 嵌入生成卸载

| 模块 | 执行位置 | 平均时间(ms) |
|------|---------|-------------|
| 人脸检测 | 本地 | [填写] |
| 嵌入生成 | 云端 | [填写] |
| 向量搜索 | 本地 | [填写] |
| 网络传输 | - | [填写] |
| **总计** | - | [填写] |

#### Mode 2: 向量搜索卸载

| 模块 | 执行位置 | 平均时间(ms) |
|------|---------|-------------|
| 人脸检测 | 本地 | [填写] |
| 嵌入生成 | 本地 | [填写] |
| 向量搜索 | 云端 | [填写] |
| 网络传输 | - | [填写] |
| **总计** | - | [填写] |

#### Mode 3: 嵌入+搜索卸载

| 模块 | 执行位置 | 平均时间(ms) |
|------|---------|-------------|
| 人脸检测 | 本地 | [填写] |
| 嵌入生成 | 云端 | [填写] |
| 向量搜索 | 云端 | [填写] |
| 网络传输 | - | [填写] |
| **总计** | - | [填写] |

#### Mode 4: 全流程卸载

| 模块 | 执行位置 | 平均时间(ms) |
|------|---------|-------------|
| 人脸检测 | 云端 | [填写] |
| 嵌入生成 | 云端 | [填写] |
| 向量搜索 | 云端 | [填写] |
| 网络传输 | - | [填写] |
| **总计** | - | [填写] |

### 2.3 数据库规模影响

| 数据库大小 | Mode 0 搜索时间 | Mode 2 搜索时间 | 差异 |
|-----------|----------------|----------------|------|
| 10 条 | [填写] ms | [填写] ms | [填写] |
| 50 条 | [填写] ms | [填写] ms | [填写] |
| 100 条 | [填写] ms | [填写] ms | [填写] |

---

## 3. 性能分析

### 3.1 延迟分析

[插入延迟对比图表]

**分析结论**：
1. [填写分析结论1]
2. [填写分析结论2]
3. [填写分析结论3]

### 3.2 网络影响分析

[插入网络延迟对比图表]

**分析结论**：
1. [填写分析结论1]
2. [填写分析结论2]

### 3.3 数据传输效率分析

| 模式 | 传输数据量 | 网络时间 | 传输效率(KB/ms) |
|------|-----------|---------|----------------|
| Mode 1 | ~52KB | [填写] ms | [计算] |
| Mode 2 | ~2KB | [填写] ms | [计算] |
| Mode 3 | ~52KB | [填写] ms | [计算] |
| Mode 4 | ~200KB | [填写] ms | [计算] |

**分析结论**：
- [填写分析结论]

---

## 4. 关键发现

### 4.1 性能影响因素

1. **网络延迟**：[描述网络延迟如何影响各模式]

2. **数据传输量**：[描述传输量对性能的影响]

3. **本地计算能力**：[描述设备计算能力的影响]

4. **云端计算能力**：[描述服务器性能的影响]

### 4.2 最优划分策略建议

| 场景 | 推荐模式 | 原因 |
|------|---------|------|
| 低延迟 WiFi 环境 | [填写] | [填写] |
| 4G 移动网络 | [填写] | [填写] |
| 离线环境 | Mode 0 | 无需网络 |
| 低功耗设备 | [填写] | [填写] |
| 大规模数据库 | [填写] | [填写] |

---

## 5. 结论

### 5.1 主要结论

1. [填写主要结论1]
2. [填写主要结论2]
3. [填写主要结论3]

### 5.2 局限性

1. [填写测试局限性]
2. [填写测试局限性]

### 5.3 未来改进方向

1. [填写改进建议]
2. [填写改进建议]

---

## 附录

### A. 原始测试数据

[附上 CSV 文件或详细数据表]

### B. 测试截图

[附上关键测试截图]

### C. 测试脚本

[说明使用的测试工具和脚本]

---

*报告生成时间：[日期时间]*

